<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style type="text/css">
@import url(/css/main.css);
@import url(/css/overhead.css);
</style>
<link type="text/css" href="http://jqueryui.com/latest/themes/base/ui.all.css" rel="stylesheet" />
<script src="/js/jquery-1.3.2.js" type="text/javascript"></script>
<script src="/js/ui.core.js" type="text/javascript"></script>
<script src="/js/ui.draggable.js" type="text/javascript"></script>
<script src="/js/ui.droppable.js" type="text/javascript"></script>
<script type="text/javascript">
// TODO Move some of this to external script (eg, add note function)
var noteCounter = 0;
$(document).ready(function() {
    // Temp for testing
    $('#notes-container').draggable({ cursor: 'crosshair' });

    $('#add-note').click(
        // Make an id for this note then add it to the DOM
        function() {
            var noteId = '{{ user }}' + "-" + ++noteCounter;
            var note = $('<div class="Note" id="' + noteId + '">' + noteId + '</div>')
            // TODO Dynamically set insertion position based on other existing notes?
            note.css('top 20px', 'left: 8px');
            note.insertAfter('#menu-bar');
            $(document.getElementById(noteId)).draggable({ cursor: 'crosshair' });
        }
    );
});
</script>
</head>
<body>

<div id="menu-bar">
{{ user }}
<form method="post" action="/overhead/{{ user|urlencode }}/{{ page|urlencode }}">
<input id="add-note" type="button" value="Add Note"/>
Tags: <input type="text" size="30" />
<input type="button" value="Save"/>
<span class="delete-button"><input type="button" value="Delete"/></span>
</form>
</div>

<iframe width="100%" height="100%" src="http://{{page}}"
border="0" noborder="noborder" frameborder="0" padding="0" spacing="0"></iframe>

</body>
</html>
